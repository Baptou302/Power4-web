<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>Power4 (Connect Four)</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <h1>Power4 (Connect Four)</h1>

  {{if .Finished}}
    {{if gt .Winner 0}}
      <p>🎉 Joueur {{.Winner}} a gagné !</p>
    {{else}}
      <p>🤝 Match nul !</p>
    {{end}}
    <form method="POST" action="/reset">
      <button type="submit">Recommencer</button>
    </form>
  {{else}}
    <p>Tour du joueur <strong>{{.CurrentPlayer}}</strong></p>
  {{end}}

  <!-- Boutons pour déposer les jetons -->
  <div class="controls">
    {{range .Columns}}
      <form method="POST" action="/play" style="display:inline;">
        <input type="hidden" name="col" value="{{.}}">
        <button class="drop-btn" type="submit">↓</button>
      </form>
    {{end}}
  </div>

  <!-- Plateau du jeu -->
  <table class="board">
    {{range $rIdx, $row := .Board}}
    <tr>
      {{range $cIdx, $cell := $row}}
        <td><div class="cell player-{{$cell}}"></div></td>
      {{end}}
    </tr>
    {{end}}
  </table>
</body>
</html>
